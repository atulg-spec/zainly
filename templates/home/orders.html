{% extends 'home/base.html' %}
{% block breadcrumb %}
<!-- Breadcrumb area Start -->
<div class="breadcrumb-area bg--white-6 breadcrumb-bg-1 pt--60 pb--70 pt-lg--40 pb-lg--50 pt-md--30 pb-md--40">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12 text-center">
                <h1 class="page-title">Orders</h1>
                <ul class="breadcrumb justify-content-center">
                    <li><a href="/">Home</a></li>
                    <li class="current"><span>Orders</span></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<!-- Breadcrumb area End -->
{% endblock breadcrumb %}
{% block body %}
<div class="page-content-inner">
    <div class="container">
        <div class="row pt--80 pb--80 pt-md--45 pt-sm--25 pb-md--60 pb-sm--40">
            <div class="">
                <form class="cart-form" action="#">
                    <div class="row g-0">
                        <div class="col-12">
                            <div class="table-content table-responsive">
                                {% for order in orders reversed %}
                                <table class="table text-center">
                                    <thead>
                                        <tr>
                                            <th style="padding-left: 30px; padding-right: 30px; text-align: left;">Product</th>
                                            <th style="padding-left: 30px; padding-right: 30px; text-align: left;">Description</th>
                                            <th style="padding-left: 30px; padding-right: 30px; text-align: left;">Quantity</th>
                                            <th style="padding-left: 30px; padding-right: 30px; text-align: left;">Price</th>
                                            <th style="padding-left: 30px; padding-right: 30px; text-align: left;">Total</th>
                                            <th>Status</th>
                                            <th style="padding-left: 30px; padding-right: 30px; text-align: left;"></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for product in order.products.all %}
                                        <tr>
                                            <td class="product-thumbnail text-start">
                                                <img src="{{product.product.product_image.url}}" alt="Product Thumnail"
                                                    style="width: 70px;height: 80px;">
                                            </td>
                                            <td class="product-name text-start wide-column">
                                                <h3>
                                                    <a
                                                        href="/product-view/{{product.product.id}}">{{product.product.title}}</a>
                                                </h3>
                                            </td>
                                            <td style="text-align: left;">{{product.quantity}}</td>
                                            <td style="text-align: left;">
                                                <span class="money">₹{{product.product.price}}</span>
                                            </td>
                                            <td style="text-align: left;">
                                                <span class="money">₹{%widthratio product.product.price 1 product.quantity%}</span>
                                            </td>
                                            <td>
                                                <span style="
                                                    padding: 5px 10px; 
                                                    border-radius: 5px; 
                                                    color: white; 
                                                    {% if order.status == 'Pending' %} background-color: gray; 
                                                    {% elif order.status == 'Processing' %} background-color: lightblue; 
                                                    {% elif order.status == 'Shipped' %} background-color: blue; 
                                                    {% elif order.status == 'Out for Delivery' %} background-color: orange; 
                                                    {% elif order.status == 'Delivered' %} background-color: green; 
                                                    {% elif order.status == 'Cancelled' %} background-color: red; 
                                                    {% elif order.status == 'Refunded' %} background-color: black; 
                                                    {% elif order.status == 'Failed' %} background-color: darkred; 
                                                    {% endif %}
                                                ">
                                                    {{ order.status }}
                                                </span>
                                            </td>
                                            <td style="padding-left: 30px;padding-right: 30px;">
                                                {% if order.status == 'Processing' or order.status == 'Shipped' or order.status == 'Out for Delivery' %}
                                                    {% if order.expected_delivery_date %}
                                                        <br>
                                                        <small style="color: #555;">
                                                            Delivery Date: <br> {{ order.expected_delivery_date }}
                                                        </small>
                                                    {% endif %}
                                                {% endif %}
                                            </td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock body %}